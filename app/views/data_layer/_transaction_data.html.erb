dataLayer.push({
  "transactionId": "<%= j @order.number %>",
  "transactionTotal": <%= @order.total.to_f %>,
  "transactionTax": <%= @order.line_items.map(&:tax_amount).sum.to_f %>,
  "transactionShipping": <%= @order.ship_total.to_f %>,
  "transactionCity": "<%= j @order.ship_address.city %>",
  "transactionState": "<%= j @order.ship_address.state %>",
  "transactionCountry": "<%= j @order.ship_address.country.name %>",
  "transactionProducts": [
    <%= render partial: 'data_layer/line_item', collection: @order.line_items, spacer_template: 'data_layer/comma' %>
  ]
});
